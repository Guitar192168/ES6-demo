<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        function foo() {

        }

        // console.log(foo)
        // console.log(foo.toString())
        console.log(new Function('return ' + foo.toString())());

        let obj = {
            name: 123,
            age: 456,
            books: [{
                a: 1
            }, {
                b: 2
            }, 3, 4],
            info: {
                title: 456,
                infoList: [123, 456],
            }
        }

        function deepClone(target, origin) {
            var target = target || {}
            const toString = Object.prototype.toString
            for (let prop in origin) {
                if (origin.hasOwnProperty('prop')) {
                    // if (typeof prop === 'object') {
                    // 确实需要加 null的判断，因为typeof null也是个'object'
                    if (prop !== null && typeof prop === 'object') {
                        toString.call(prop) === '[object Object]' ? target[prop] = {} : target[prop] = []
                        deepClone(target[prop], origin[prop])
                    } else {
                        target[prop] = origin[prop]
                    }
                }
            }


            return target
        }

        console.log(deepClone(obj));
    </script>
</body>

</html>