<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // /有一个字符串数据：1,2,3,5,7,8,9,11，返回字符串1~3,5,7~9,11

        // let arr = '1,2,3,5,7,8,9,11'
        let arr = '-1,0,1,3,5,6,7,8,9,10,11'

        arr = arr.split(',').map(item => +item)

        let newArr = []
        let temp = arr[0]

        function foo(arr) {
            for (let i = 0; i < arr.length; i++) {
                if (arr[i] + 1 !== arr[i + 1]) {
                    if (temp === arr[i]) {
                        newArr.push(temp)
                    } else {
                        newArr.push(temp + '~' + arr[i])
                    }
                    temp = arr[i + 1]
                }
            }
            return newArr.join()
        }


        console.log(foo(arr));

        //有一个数据：1,2,3,5,7,8,9,11，返回一个1~3,5,7~9,11
        function getWith(str) {
            const arr = str.split(',').map(Number)
            let start = arr[0]
            let withArr = [start]
            let result = [];
            arr.forEach((item, idx) => {
                if (item === ++start) {
                    withArr[1] = item
                    result.splice(result.length - 1, 1, start + '~' + item)
                } else {
                    withArr[0] = start = item
                    result.push(withArr[0] + '')
                }
            })

            return result.join(',')
        }
        let str = '1,2,3,5,7,8,9,11,12,13,14,15,19'
        getWith(str)
    </script>
</body>

</html>